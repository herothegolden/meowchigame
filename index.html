<!doctype html>
<html lang="en" style="background-color: #FDF6E3 !important; margin: 0; padding: 0;">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#FDF6E3" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Meowchi Cookie Club</title>
    
    <!-- IMMEDIATE TELEGRAM READY CALL - Eliminates black screen -->
    <script>
      // Tell Telegram to show our content immediately (before any rendering)
      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.ready();
        console.log('âœ… Telegram WebApp ready() called immediately');
      }
    </script>
  </head>
  <body style="background-color: #FDF6E3 !important; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; overflow: hidden;">
    
    <!-- INSTANT LOADING SCREEN - Shows immediately after ready() -->
    <div style="
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      background-color: #FDF6E3 !important;
      z-index: 999999 !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      overflow: hidden !important;
    " id="instant-loading">
      
      <!-- Meowchi Image -->
      <img
        src="/3f4ea614-4f4d-47f5-9569-a5a81818cc6f.png"
        alt="Meowchi Loading"
        style="
          width: 128px !important;
          height: 128px !important;
          object-fit: contain !important;
          border-radius: 16px !important;
          margin-bottom: 32px !important;
          animation: fadeIn 0.3s ease-out !important;
        "
        onerror="this.src='https://ik.imagekit.io/59r2kpz8r/Meowchi%202%20/MeowchiCat.webp?updatedAt=1758909417672'"
      />
      
      <!-- Loading Text -->
      <div style="
        font-size: 18px !important;
        font-weight: bold !important;
        color: #D97706 !important;
        text-align: center !important;
        margin-bottom: 8px !important;
        max-width: 320px !important;
        padding: 0 24px !important;
      ">
        Summoning sprinkle stormsâ€¦
      </div>
      
      <!-- Loading Dots -->
      <div style="
        display: flex !important;
        gap: 8px !important;
        margin-top: 32px !important;
      ">
        <div style="
          width: 12px !important;
          height: 12px !important;
          background-color: #F59E0B !important;
          border-radius: 50% !important;
          animation: pulse1 1.5s ease-in-out infinite !important;
        "></div>
        <div style="
          width: 12px !important;
          height: 12px !important;
          background-color: #F59E0B !important;
          border-radius: 50% !important;
          animation: pulse2 1.5s ease-in-out infinite !important;
        "></div>
        <div style="
          width: 12px !important;
          height: 12px !important;
          background-color: #F59E0B !important;
          border-radius: 50% !important;
          animation: pulse3 1.5s ease-in-out infinite !important;
        "></div>
      </div>
    </div>

    <!-- React App Root -->
    <div id="root" style="background-color: #FDF6E3 !important; min-height: 100vh; width: 100vw;"></div>

    <!-- Animations -->
    <style>
      @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.8); }
        to { opacity: 1; transform: scale(1); }
      }
      @keyframes pulse1 {
        0%, 100% { opacity: 0.6; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.2); }
      }
      @keyframes pulse2 {
        0%, 100% { opacity: 0.6; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.2); }
        animation-delay: 0.2s;
      }
      @keyframes pulse3 {
        0%, 100% { opacity: 0.6; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.2); }
        animation-delay: 0.4s;
      }
    </style>

    <!-- Additional Telegram Configuration -->
    <script>
      // Additional Telegram WebApp configuration
      if (window.Telegram && window.Telegram.WebApp) {
        // Expand WebApp to full screen
        window.Telegram.WebApp.expand();
        
        // Set header color to match our theme
        window.Telegram.WebApp.setHeaderColor('#FDF6E3');
        
        // Disable vertical swipes to prevent accidental closure
        window.Telegram.WebApp.disableVerticalSwipes();
        
        console.log('ðŸ“± Telegram WebApp configured for immediate display');
      }
    </script>

    <script type="module" src="/src/main.jsx"></script>
    
    <!-- Hide instant loading when React takes over -->
    <script>
      function checkAndHideLoading() {
        const instantLoading = document.getElementById('instant-loading');
        const root = document.getElementById('root');
        
        if (root && root.children.length > 0) {
          if (instantLoading) {
            instantLoading.style.opacity = '0';
            instantLoading.style.transition = 'opacity 0.3s ease';
            setTimeout(() => {
              instantLoading.style.display = 'none';
            }, 300);
          }
          return true;
        }
        return false;
      }
      
      // Check immediately and periodically
      if (!checkAndHideLoading()) {
        const checkInterval = setInterval(() => {
          if (checkAndHideLoading()) {
            clearInterval(checkInterval);
          }
        }, 50);
        
        // Fallback: hide after 2 seconds regardless
        setTimeout(() => {
          clearInterval(checkInterval);
          const instantLoading = document.getElementById('instant-loading');
          if (instantLoading) {
            instantLoading.style.display = 'none';
          }
        }, 2000);
      }
    </script>
  </body>
</html>
